<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Five in a Row</title>
  <link rel="stylesheet" href="css/FIAR.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <script type="text/javascript" src="js/jquery-3.6.0.min.js"></script>
  <script async defer src="https://dailyverses.net/get/verse.js?language=neu"></script>
</head>

<body id="body">
<div class="container-fluid fixed-top" id="header">
  <div class="row">
    <span class="col-md-4 myheadline" >Five in a Row</span>

    <span class="col-md-5"></span>

    <span class="col-md-3 " id="headerButtons">
      <div class="row flex-nowrap">
        <span class="col-md-1"></span>
        <a class="col-md-5  myButton" href="account/LockOn.html">
          Log In
        </a>

        <a class="col-md-5  myButton" href="account/LockOff.html">
          Log out
        </a>
        <span class="col-md-1"></span>
      </div>
    </span>
  </div>
</div>


<div class="container-fluid mainPart">
  <div class="row">
    <span class="col-md-4 d-flex justify-content-center">
      <button onclick="getCall()">makeCall</button>
      <button onclick="resetlocalStorage()">reset storage</button>
      <div id="verseOfTheDay" class="centerText">DailyVerseEnglish</div></span>
    <span class="col-md-4">
        <div class="row">
        <span class="col-md-1"></span>
        <span class="col-md-10 d-flex justify-content-center">
            <p class="centerText">
              Welcome to Five in a Row.
            </p>
      </span>
        <span class="col-md-1"></span>
      </div>
      <div class="row">
        <span class="col-md-1"></span>
        <span class="col-md-10 d-flex justify-content-center">
            <a class="myGameButton " href="Game/HostGame.html">
              Host a Game
            </a>
      </span>
        <span class="col-md-1"></span>
      </div>
      <div class="row">
        <span class="col-md-1"></span>
        <span class="col-md-10 d-flex justify-content-center">
            <a class="myGameButton" href="Game/JoinGame.html">
              Join a Game
            </a>
      </span>
        <span class="col-md-1"></span>
      </div>
        </span>
        <span class="col-md-4 d-flex justify-content-center">
          <div id="dailyVersesWrapper" class="centerText">t√§glicherVersDeutsch</div>
        </span>
  </div>
</div>

<div class="container-fluid fixed-bottom" id="footer">
  <div class="row ">
    <span class="col-md-3">Impressum</span>

    <span class="col-md-3 centerText">Spende</span>

    <span class="col-md-2 centerText"></span>

    <span class="col-md-4 " id="footerButtons">
      <div class="row flex-nowrap">
        <span class="col-md-1"></span>
        <a class="col-md-5  myButton" href="DaRules.html">
          Rules
        </a>
        <a class="col-md-5  myButton" href="account/AccountEdit.html">
          Edit Account
        </a>
        <span class="col-md-1"></span>
      </div>
    </span>
  </div>
</div>


<script>

  function resetlocalStorage() {
    localStorage.setItem("todaysVerse","")
  }

  //$(document).ready(function () {
    function getCall() {

      $.ajax({
        url: 'https://www.bibleserver.com/api/parser?key=c19840c2b0dcd2f043a0a7d90e85a4f0e1ca95b9&text=Johannes3,16',
        type: 'post',
        dataType: 'json',
        contentType: 'application/json',
        processData: false,
        contentType: "application/json; charset=UTF-8",
        success: function (data) {
            todaysLinkedVerse = data;
            console.log(data.Message)
          $("#verseOfTheDay").html(todaysLinkedVerse);
        },
        error: function (xhr, ajaxOptions, thrownError) {
          alert('Error: ' + xhr.status + '   ' + thrownError);
        }
      });

    }
    /*
      console.log("button pressed");
      todaysVerse = localStorage.getItem("todaysVerse");
      todaysLinkedVerse = localStorage.getItem("todaysLinkedVerse");

      $.ajax({
        url: 'https://beta.ourmanna.com/api/v1/get',
        type: 'get',
        dataType: 'text',
        contentType: 'application/json',
        processData: false,
        contentType: "application/json; charset=UTF-8",
        success: function (data) {
          console.log("get suceed");
          if (!(todaysVerse == data)) {
            console.log("start post");
            localStorage.setItem("todaysVerse",data);
            todaysVerse = data.toString()
            $.ajax({
              url: 'https://tranquil-ravine-52782-34bf80f0f653.herokuapp.com/api/verses?text=' + todaysVerse,
              type: 'post',
              dataType: 'json',
              contentType: 'application/json',
              processData: false,
              contentType: "application/json; charset=UTF-8",
              success: function (data) {
                if (!(data.Message == "not allowed to post: please wait")){
                  localStorage.setItem("todaysLinkedVerse", data.Message);
                  todaysLinkedVerse = data.Message;
                  console.log(data.Message)
                }
                $("#verseOfTheDay").html(todaysLinkedVerse);
              },
              error: function (xhr, ajaxOptions, thrownError) {
                alert('Error: ' + xhr.status + '   ' + thrownError);
              }
            });
          } else {
            console.log("doesnt did post");
            $("#verseOfTheDay").html(todaysVerse);
          }
        },
        error: function (xhr, ajaxOptions, thrownError) {
          alert('Error: ' + xhr.status + '   ' + thrownError);
        }
      });

    }
*/
  //})


</script>
</body>
</html>
